import{a as X,c as v,d as x,e as A,f as tt,g as S,h as G,k as y,S as O,s as V,j as et,l as rt,m as nt,n as st,o as it,p as ot,q as ut,r as at,t as m,u as M,i as w,v as U,w as ft,x as ht,y as dt,z as ct,A as pt,B as lt,C as _t,D as gt,E as yt,F as Et,G as bt,H as mt}from"./index-d260b106.js";function wt(t){return typeof t=="function"?t:X}function l(t,e){var r=v(t)?x:A;return r(t,wt(e))}function vt(t,e){var r=[];return A(t,function(n,s,i){e(n,s,i)&&r.push(n)}),r}function C(t,e){var r=v(t)?tt:vt;return r(t,S(e))}function Ct(t,e,r,n){var s=-1,i=t==null?0:t.length;for(n&&i&&(r=t[++s]);++s<i;)r=e(r,t[s],s,t);return r}function It(t,e,r,n,s){return s(t,function(i,o,u){r=n?(n=!1,i):e(r,i,o,u)}),r}function Nt(t,e,r){var n=v(t)?Ct:It,s=arguments.length<3;return n(t,S(e),r,s,A)}function kt(t,e){return G(e,function(r){return t[r]})}function R(t){return t==null?[]:kt(t,y(t))}function St(){}var Ot=1/0,Ft=O&&1/V(new O([,-0]))[1]==Ot?function(t){return new O(t)}:St;const Lt=Ft;var At=200;function Mt(t,e,r){var n=-1,s=rt,i=t.length,o=!0,u=[],f=u;if(r)o=!1,s=nt;else if(i>=At){var h=e?null:Lt(t);if(h)return V(h);o=!1,s=st,f=new et}else f=e?[]:u;t:for(;++n<i;){var d=t[n],p=e?e(d):d;if(d=r||d!==0?d:0,o&&p===p){for(var g=f.length;g--;)if(f[g]===p)continue t;e&&f.push(p),u.push(d)}else s(f,p,r)||(f!==u&&f.push(p),u.push(d))}return u}var Rt=it(function(t){return Mt(ot(t,1,ut,!0))});const Tt=Rt;var Pt=Object.prototype,Dt=Pt.hasOwnProperty;function jt(t,e){return t!=null&&Dt.call(t,e)}function c(t,e){return t!=null&&at(t,e,jt)}const zt="\0",E="\0",P="";function a(t){this._isDirected=c(t,"directed")?t.directed:!0,this._isMultigraph=c(t,"multigraph")?t.multigraph:!1,this._isCompound=c(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=m(void 0),this._defaultEdgeLabelFn=m(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[E]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0;a.prototype._edgeCount=0;a.prototype.isDirected=function(){return this._isDirected};a.prototype.isMultigraph=function(){return this._isMultigraph};a.prototype.isCompound=function(){return this._isCompound};a.prototype.setGraph=function(t){return this._label=t,this};a.prototype.graph=function(){return this._label};a.prototype.setDefaultNodeLabel=function(t){return M(t)||(t=m(t)),this._defaultNodeLabelFn=t,this};a.prototype.nodeCount=function(){return this._nodeCount};a.prototype.nodes=function(){return y(this._nodes)};a.prototype.sources=function(){var t=this;return C(this.nodes(),function(e){return U(t._in[e])})};a.prototype.sinks=function(){var t=this;return C(this.nodes(),function(e){return U(t._out[e])})};a.prototype.setNodes=function(t,e){var r=arguments,n=this;return l(t,function(s){r.length>1?n.setNode(s,e):n.setNode(s)}),this};a.prototype.setNode=function(t,e){return c(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=E,this._children[t]={},this._children[E][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)};a.prototype.node=function(t){return this._nodes[t]};a.prototype.hasNode=function(t){return c(this._nodes,t)};a.prototype.removeNode=function(t){var e=this;if(c(this._nodes,t)){var r=function(n){e.removeEdge(e._edgeObjs[n])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],l(this.children(t),function(n){e.setParent(n)}),delete this._children[t]),l(y(this._in[t]),r),delete this._in[t],delete this._preds[t],l(y(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this};a.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(w(e))e=E;else{e+="";for(var r=e;!w(r);r=this.parent(r))if(r===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this};a.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]};a.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==E)return e}};a.prototype.children=function(t){if(w(t)&&(t=E),this._isCompound){var e=this._children[t];if(e)return y(e)}else{if(t===E)return this.nodes();if(this.hasNode(t))return[]}};a.prototype.predecessors=function(t){var e=this._preds[t];if(e)return y(e)};a.prototype.successors=function(t){var e=this._sucs[t];if(e)return y(e)};a.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return Tt(e,this.successors(t))};a.prototype.isLeaf=function(t){var e;return this.isDirected()?e=this.successors(t):e=this.neighbors(t),e.length===0};a.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;l(this._nodes,function(i,o){t(o)&&e.setNode(o,i)}),l(this._edgeObjs,function(i){e.hasNode(i.v)&&e.hasNode(i.w)&&e.setEdge(i,r.edge(i))});var n={};function s(i){var o=r.parent(i);return o===void 0||e.hasNode(o)?(n[i]=o,o):o in n?n[o]:s(o)}return this._isCompound&&l(e.nodes(),function(i){e.setParent(i,s(i))}),e};a.prototype.setDefaultEdgeLabel=function(t){return M(t)||(t=m(t)),this._defaultEdgeLabelFn=t,this};a.prototype.edgeCount=function(){return this._edgeCount};a.prototype.edges=function(){return R(this._edgeObjs)};a.prototype.setPath=function(t,e){const r=this,n=arguments;return Nt(t,function(s,i){return n.length>1?r.setEdge(s,i,e):r.setEdge(s,i),i}),this};a.prototype.setEdge=function(){let t,e,r,n,s=!1;const i=arguments[0];typeof i=="object"&&i!==null&&"v"in i?(t=i.v,e=i.w,r=i.name,arguments.length===2&&(n=arguments[1],s=!0)):(t=i,e=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],s=!0)),t=""+t,e=""+e,w(r)||(r=""+r);var o=I(this._isDirected,t,e,r);if(c(this._edgeLabels,o))return s&&(this._edgeLabels[o]=n),this;if(!w(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[o]=s?n:this._defaultEdgeLabelFn(t,e,r);var u=xt(this._isDirected,t,e,r);return t=u.v,e=u.w,Object.freeze(u),this._edgeObjs[o]=u,D(this._preds[e],t),D(this._sucs[t],e),this._in[e][o]=u,this._out[t][o]=u,this._edgeCount++,this};a.prototype.edge=function(t,e,r){var n=arguments.length===1?T(this._isDirected,arguments[0]):I(this._isDirected,t,e,r);return this._edgeLabels[n]};a.prototype.hasEdge=function(t,e,r){var n=arguments.length===1?T(this._isDirected,arguments[0]):I(this._isDirected,t,e,r);return c(this._edgeLabels,n)};a.prototype.removeEdge=function(t,e,r){const n=arguments.length===1?T(this._isDirected,arguments[0]):I(this._isDirected,t,e,r),s=this._edgeObjs[n];return s&&(t=s.v,e=s.w,delete this._edgeLabels[n],delete this._edgeObjs[n],j(this._preds[e],t),j(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this};a.prototype.inEdges=function(t,e){var r=this._in[t];if(r){var n=R(r);return e?C(n,function(s){return s.v===e}):n}};a.prototype.outEdges=function(t,e){var r=this._out[t];if(r){var n=R(r);return e?C(n,function(s){return s.w===e}):n}};a.prototype.nodeEdges=function(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))};function D(t,e){t[e]?t[e]++:t[e]=1}function j(t,e){--t[e]||delete t[e]}function I(t,e,r,n){var s=""+e,i=""+r;if(!t&&s>i){var o=s;s=i,i=o}return s+P+i+P+(w(n)?zt:n)}function xt(t,e,r,n){var s=""+e,i=""+r;if(!t&&s>i){var o=s;s=i,i=o}var u={v:s,w:i};return n&&(u.name=n),u}function T(t,e){return I(t,e.v,e.w,e.name)}function Se(t,e){var r=v(t)?G:ft;return r(t,S(e))}function Gt(t){const e={},r=[];let n;function s(i){c(e,i)||(e[i]=!0,n.push(i),l(t.successors(i),s),l(t.predecessors(i),s))}return l(t.nodes(),function(i){n=[],s(i),n.length&&r.push(n)}),r}function _(){this._arr=[],this._keyIndices={}}_.prototype.size=function(){return this._arr.length};_.prototype.keys=function(){return this._arr.map(function(t){return t.key})};_.prototype.has=function(t){return c(this._keyIndices,t)};_.prototype.priority=function(t){var e=this._keyIndices[t];if(e!==void 0)return this._arr[e].priority};_.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};_.prototype.add=function(t,e){var r=this._keyIndices;if(t=String(t),!c(r,t)){var n=this._arr,s=n.length;return r[t]=s,n.push({key:t,priority:e}),this._decrease(s),!0}return!1};_.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key};_.prototype.decrease=function(t,e){var r=this._keyIndices[t];if(e>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+e);this._arr[r].priority=e,this._decrease(r)};_.prototype._heapify=function(t){const e=this._arr,r=2*t,n=r+1;let s=t;r<e.length&&(s=e[r].priority<e[s].priority?r:s,n<e.length&&(s=e[n].priority<e[s].priority?n:s),s!==t&&(this._swap(t,s),this._heapify(s)))};_.prototype._decrease=function(t){for(var e=this._arr,r=e[t].priority,n;t!==0&&(n=t>>1,!(e[n].priority<r));)this._swap(t,n),t=n};_.prototype._swap=function(t,e){var r=this._arr,n=this._keyIndices,s=r[t],i=r[e];r[t]=i,r[e]=s,n[i.key]=t,n[s.key]=e};var Vt=m(1);function $(t,e,r,n){return Ut(t,String(e),r||Vt,n||function(s){return t.outEdges(s)})}function Ut(t,e,r,n){const s={},i=new _;let o,u;var f=function(h){const d=h.v!==o?h.v:h.w,p=s[d],g=r(h),b=u.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+g);b<p.distance&&(p.distance=b,p.predecessor=o,i.decrease(d,b))};for(t.nodes().forEach(function(h){var d=h===e?0:Number.POSITIVE_INFINITY;s[h]={distance:d},i.add(h,d)});i.size()>0&&(o=i.removeMin(),u=s[o],u.distance!==Number.POSITIVE_INFINITY);)n(o).forEach(f);return s}function $t(t,e,r){var n=v(t),s=n||ht(t)||dt(t);if(e=S(e),r==null){var i=t&&t.constructor;s?r=n?new i:[]:ct(t)?r=M(i)?pt(lt(t)):{}:r={}}return(s?x:_t)(t,function(o,u,f){return e(r,o,u,f)}),r}function Ht(t,e,r){return $t(t.nodes(),function(n,s){n[s]=$(t,s,e,r)},{})}function H(t){let e=0;const r=[],n={},s=[];function i(o){var u=n[o]={onStack:!0,lowlink:e,index:e++};if(r.push(o),t.successors(o).forEach(function(f){c(n,f)?n[f].onStack&&(u.lowlink=Math.min(u.lowlink,n[f].index)):(i(f),u.lowlink=Math.min(u.lowlink,n[f].lowlink))}),u.lowlink===u.index){const f=[];let h;do h=r.pop(),n[h].onStack=!1,f.push(h);while(o!==h);s.push(f)}}return t.nodes().forEach(function(o){c(n,o)||i(o)}),s}function Wt(t){return C(H(t),function(e){return e.length>1||e.length===1&&t.hasEdge(e[0],e[0])})}var Yt=m(1);function qt(t,e,r){return Jt(t,e||Yt,r||function(n){return t.outEdges(n)})}function Jt(t,e,r){const n={},s=t.nodes();return s.forEach(function(i){n[i]={},n[i][i]={distance:0},s.forEach(function(o){i!==o&&(n[i][o]={distance:Number.POSITIVE_INFINITY})}),r(i).forEach(function(o){const u=o.v===i?o.w:o.v,f=e(o);n[i][u]={distance:f,predecessor:i}})}),s.forEach(function(i){var o=n[i];s.forEach(function(u){var f=n[u];s.forEach(function(h){var d=f[i],p=o[h],g=f[h],b=d.distance+p.distance;b<g.distance&&(g.distance=b,g.predecessor=p.predecessor)})})}),n}var Kt=gt("length");const Bt=Kt;var Zt="\\ud800-\\udfff",Qt="\\u0300-\\u036f",Xt="\\ufe20-\\ufe2f",te="\\u20d0-\\u20ff",ee=Qt+Xt+te,re="\\ufe0e\\ufe0f",ne="\\u200d",se=RegExp("["+ne+Zt+ee+re+"]");function ie(t){return se.test(t)}var W="\\ud800-\\udfff",oe="\\u0300-\\u036f",ue="\\ufe20-\\ufe2f",ae="\\u20d0-\\u20ff",fe=oe+ue+ae,he="\\ufe0e\\ufe0f",de="["+W+"]",F="["+fe+"]",L="\\ud83c[\\udffb-\\udfff]",ce="(?:"+F+"|"+L+")",Y="[^"+W+"]",q="(?:\\ud83c[\\udde6-\\uddff]){2}",J="[\\ud800-\\udbff][\\udc00-\\udfff]",pe="\\u200d",K=ce+"?",B="["+he+"]?",le="(?:"+pe+"(?:"+[Y,q,J].join("|")+")"+B+K+")*",_e=B+K+le,ge="(?:"+[Y+F+"?",F,q,J,de].join("|")+")",z=RegExp(L+"(?="+L+")|"+ge+_e,"g");function ye(t){for(var e=z.lastIndex=0;z.test(t);)++e;return e}function Ee(t){return ie(t)?ye(t):Bt(t)}var be="[object Map]",me="[object Set]";function we(t){if(t==null)return 0;if(yt(t))return Et(t)?Ee(t):t.length;var e=bt(t);return e==be||e==me?t.size:mt(t).length}function N(t){const e={},r={},n=[];function s(i){if(c(r,i))throw new k;c(e,i)||(r[i]=!0,e[i]=!0,l(t.predecessors(i),s),delete r[i],n.push(i))}if(l(t.sinks(),s),we(e)!==t.nodeCount())throw new k;return n}function k(){}k.prototype=new Error;N.CycleException=k;function ve(t){try{N(t)}catch(e){if(e instanceof N.CycleException)return!1;throw e}return!0}function Z(t,e,r){v(e)||(e=[e]);var n=(t.isDirected()?t.successors:t.neighbors).bind(t);const s=[],i={};return l(e,function(o){if(!t.hasNode(o))throw new Error("Graph does not have node: "+o);Q(t,o,r==="post",i,n,s)}),s}function Q(t,e,r,n,s,i){c(n,e)||(n[e]=!0,r||i.push(e),l(s(e),function(o){Q(t,o,r,n,s,i)}),r&&i.push(e))}function Ce(t,e){return Z(t,e,"post")}function Ie(t,e){return Z(t,e,"pre")}function Ne(t,e){const r=new a,n={},s=new _;let i;function o(f){const h=f.v===i?f.w:f.v,d=s.priority(h);if(d!==void 0){var p=e(f);p<d&&(n[h]=i,s.decrease(h,p))}}if(t.nodeCount()===0)return r;l(t.nodes(),function(f){s.add(f,Number.POSITIVE_INFINITY),r.setNode(f)}),s.decrease(t.nodes()[0],0);for(var u=!1;s.size()>0;){if(i=s.removeMin(),c(n,i))r.setEdge(i,n[i]);else{if(u)throw new Error("Input graph is not connected: "+t);u=!0}t.nodeEdges(i).forEach(o)}return r}const Oe=Object.freeze(Object.defineProperty({__proto__:null,components:Gt,dijkstra:$,dijkstraAll:Ht,findCycles:Wt,floydWarshall:qt,isAcyclic:ve,postorder:Ce,preorder:Ie,prim:Ne,tarjan:H,topsort:N},Symbol.toStringTag,{value:"Module"}));export{a as G,Oe as a,C as b,l as f,c as h,Se as m,St as n,Nt as r,R as v};
